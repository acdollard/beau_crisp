---
import { Image } from "astro:assets";
import logo from "../assets/buried2.png";
---

<nav class="w-full bg-transparent font-customFont tracking-wide">
  <div
    class="mx-auto flex max-w-screen-xl flex-wrap items-center justify-between p-4"
  >
    <a href="/" class="text-xl font-bold text-white">
      <Image
        src={logo}
        alt="Beau Crisp Logo"
        width={150}
        class="filter brightness-0 invert"
      />
    </a>

    <!-- Mobile menu button -->
    <button
      id="mobile-menu-button"
      class="md:hidden text-white"
      aria-label="Toggle menu"
    >
      <svg
        class="w-12 h-12"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M4 6h16M4 12h16M4 18h16"></path>
      </svg>
    </button>

    <!-- Desktop menu -->
    <div class="hidden md:flex space-x-8">
      <a
        href="/"
        class="text-white hover:text-ebony transition-colors duration-200 text-3xl"
        >Home</a
      >
      <a
        href="/podcast"
        class="text-white hover:text-ebony transition-colors duration-200 text-3xl"
        >Podcast</a
      >
      <a
        href="/writing"
        class="text-white hover:text-ebony transition-colors duration-200 text-3xl"
        >Writing</a
      >
      <a
        href="/about"
        class="text-white hover:text-ebony transition-colors duration-200 text-3xl"
        >About</a
      >
      <a
        href="/contact"
        class="text-white hover:text-ebony transition-colors duration-200 text-3xl"
        >Contact</a
      >
    </div>
  </div>

  <!-- Mobile menu -->
  <div
    id="mobile-menu"
    class="hidden md:hidden mt-4 space-y-4 transform transition-all duration-300 ease-in-out bg-black"
  >
    <a
      href="/"
      class="block text-white hover:text-ebony transition-colors duration-200"
      >Home</a
    >
    <a
      href="/podcast"
      class="block text-white hover:text-ebony transition-colors duration-200"
      >Podcast</a
    >
    <a
      href="/writing"
      class="block text-white hover:text-ebony transition-colors duration-200"
      >Writing</a
    >
    <a
      href="/about"
      class="block text-white hover:text-ebony transition-colors duration-200"
      >About</a
    >
    <a
      href="/contact"
      class="block text-white hover:text-ebony transition-colors duration-200"
      >Contact</a
    >
  </div>
</nav>

<script>
  // Mobile menu toggle with animation
  const mobileMenuButton = document.getElementById("mobile-menu-button");
  const mobileMenu = document.getElementById("mobile-menu");
  const menuIcon = mobileMenuButton?.querySelector("svg");

  mobileMenuButton?.addEventListener("click", () => {
    mobileMenu?.classList.toggle("hidden");
    mobileMenu?.classList.toggle("opacity-0");
    mobileMenu?.classList.toggle("translate-y-[-10px]");

    // Animate the hamburger icon
    menuIcon?.classList.toggle("rotate-90");
    console.log(mobileMenu);
  });

  // Initialize menu state
  if (mobileMenu) {
    mobileMenu.classList.add("opacity-0", "translate-y-[-10px]");
  }
</script>

<style>
  /* Add smooth transitions */
  #mobile-menu,
  #mobile-menu-button {
    transition: all 0.3s ease-in-out;
  }

  #mobile-menu:not(.hidden) {
    opacity: 1;
    transform: translateY(0);
  }

  #mobile-menu.hidden {
    opacity: 0;
    transform: translateY(-10px);
  }
</style>
